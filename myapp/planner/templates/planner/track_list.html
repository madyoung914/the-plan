{% extends 'base.html' %}

{% block title %}My Tracks{% endblock %}
{% block content %}

{% if current_tracks %}
    <h2>My Current Tracks</h2>
    {% for track in current_tracks %}
        <li><a href="{{ track.get_absolute_url }}">{{ track }}</a></li>

        <form action="{% url 'planner:track-list' %}" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this item?');">
                {% csrf_token %}
                <input type="hidden" name="delete_track_id" value="{{ track.pk }}">
                <button type="submit">Delete</button>
            </form>

        <form action="{% url 'planner:track-list' %}" method="POST" style="display:inline;">
            {% csrf_token %}
            <input type="hidden" name="complete_track_id" value="{{ track.pk }}">
            <button type="submit">Archive?</button>
        </form>
    {% endfor %}
{% endif %}

{% if past_tracks %}
    <h2>My Past Tracks</h2>
    {% for track in past_tracks %}
        <li><a href="{{ track.get_absolute_url }}">{{ track }}</a></li>

        <form action="{% url 'planner:track-list' %}" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this item?');">
                {% csrf_token %}
                <input type="hidden" name="delete_track_id" value="{{ track.pk }}">
                <button type="submit">Delete</button>
            </form>

        <form action="{% url 'planner:track-list' %}" method="POST" style="display:inline;">
            {% csrf_token %}
            <input type="hidden" name="complete_track_id" value="{{ track.pk }}">
            <button type="submit">Unarchive?</button>
        </form>
        
    {% endfor %}
{% endif %}

<br>
<a href="{% url 'planner:track-create' %}">Create track</a>

{% endblock %}